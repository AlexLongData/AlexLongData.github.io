<!DOCTYPE html>

<!-- Richard Davies, Data Science 2021 -->


<!-- ///////////////////  HEAD //////////////////////////////////// -->

<head>

<!--The next three lines allow the Vega embed-->
<script src="https://cdn.jsdelivr.net/npm/vega@5.17.0"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@4.17.0"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.12.2"></script>

<link rel="stylesheet" href="style.css">

<script>
    window.onload = function () {
        let charts = [
            {
                chartName: 'Covid UK Regions',
                jsonPath: 'chart1_covidUKRegions.json'
            },
            {
                chartName: 'UK Productivity',
                jsonPath: 'chart2_ukProductivity.json'
            },
            {
                chartName: 'Football Stadium Capacities',
                jsonPath: 'chartFootball2.json'
            },
            {
                chartName: 'New Coronavirus Cases',
                jsonPath: 'chart4_mycoviddata_api.json'
            }
        ];

        let url = new URL(window.location.href);
        let selectedChart = url.searchParams.get('chart');
        if (selectedChart && selectedChart >= 0 && selectedChart < charts.length) {
            vegaEmbed('#vega-chart', 'charts/' + charts[selectedChart].jsonPath);
            document.getElementById('chart-container').style.display = '';
        }

        document.getElementById('chart-selection').innerHTML = charts.map(function (chart, index) {
            return (
                '<li><a href="?chart=' + index + '">' +
                    chart.chartName +
                '</a></li>'
            );
        }).join('');
    };
</script>

</head>

<!-- ///////////////////  HEAD //////////////////////////////////// -->

<!-- ///////////////////  START BODY //////////////////////////////////// -->

<body>

<div class="selection-container">
    <ul id="chart-selection"></ul>
</div>

<div id="chart-container" style="display: none;">
    <div id="vega-chart"></div>
</div>

</body>
<!-- ///////////////////  END BODY //////////////////////////////////// -->

</html>